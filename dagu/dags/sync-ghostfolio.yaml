description: Syncs Ghostfolio with financial platforms
schedule: "0 2 * * *"

container:
  exec: dagu-python-worker
  workingDir: /scripts/${DAG_NAME}
  env:
    - UV_PROJECT_ENVIRONMENT: /.venvs/sync-ghostfolio

steps:
  - name: sync-gontz
    command: uv run sync-ghostfolio gontz

handlerOn:
  failure:
    command: >-
      curl -H "Title: Dagu Worker" -H "Tags: warning,skull" -d "${DAG_NAME} DAG
      ${DAG_RUN_STATUS}" ntfy/dagu
